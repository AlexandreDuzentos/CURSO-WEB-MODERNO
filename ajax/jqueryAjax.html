<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>Ajax com jQuery</title>
    <link rel='stylesheet' href='css/estilo.css'>
    <script src="js/jquery.js"></script>
</head>

<body class="conteudo exercicio">
    <h1>jQuery Get/Post</h1>
    <div id="get"></div>
    <div id="post"></div>

    <script>
         function exibirResultado(id, dados){
           const texto = JSON.stringify(dados)
           document.getElementById(id).innerHTML = texto
        }

        /* 
           o caractere dólar($) serve para referenciar o Jquery
           Enviando uma requisição via get para o servidor usando o Jquery
           Requisições ajax usando o jQuery são baseadas em callbacks.
           
           Uma requisição ser baseada em callback quer dizer que quando
           a resposta de uma requisição é devolvida para o cliente, uma
           callback é executada.
         */
        $.ajax({
            url: "/parOuImpar",
            method: "get",
            data: {
               numero: 5
            },
            
             /*
             callback que será executada quando a resposta chegar e for
             uma resposta de sucesso. 
            */
            success(data) {
               exibirResultado("get", data)
            },

            /*
             callback que será executada quando a resposta chegar e for
             uma resposta de erro. 
            */
            error(e){
                exibirResultado("post", e)
            }
        })

        $.ajax({
            url: "/formulario",
            method: "post",
            data: {
                nome: "Alexandre",
                sobrenome: "Duzentos"
            },
            
            /*
             callback que será executada quando a resposta chegar e for
             uma resposta de sucesso. 
            */
            success(data) {
               exibirResultado("post", data)
            },

            error(e) {
               exibirResultado("post" ,e)
            }
        })
    </script>
</body>